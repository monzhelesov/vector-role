[sources.in]
type = "stdin"

[sinks.out]
type = "console"
inputs = ["in"]
encoding.codec = "json"

[sources.demo_logs]
type = "demo_logs"
format = "apache_common"

[sinks.clickhouse]
type = "clickhouse"
inputs = ["demo_logs"]
endpoint = "http://{{ clickhouse_host | default('localhost') }}:8123"
database = "logs"
table = "vector_logs"

[sources.system_logs]
type = "file"
include = ["/var/log/syslog", "/var/log/auth.log"]

[sinks.out]
type = "console"
inputs = ["system_logs"]
encoding.codec = "json"